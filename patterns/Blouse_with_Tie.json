{
"pattern": {
  "title": "Blouse with Tie",
  "defaults": [
      "20.5",
      "106",
      "98",
      "106",
      "40",
      "40",
      "54",
      "26",
      "9",
      "18",
      "20.5",
      "50",
      "20.75",
      "17",
      "74",
      "64.75",
      "58.5",
      "25.4",
      "26.75",
      "66.0",
      "19.5",
      "19.75",
      "54.0",
      "52.0",
      "51",
      "65",
      "65",
      "21",
      "23.5",
      "36.5"
  ],
  "measurements": [
      "neck_width",
      "bust",
      "waist",
      "hip",
      "across_back",
      "across_chest",
      "armscye",
      "front_upperbust_height",
      "back_upperbust_height",
      "front_bust_height",
      "bust_points_distance",
      "back_waist_length",
      "back_hip_height",
      "shoulder_length",
      "overarm_length",
      "front_neckheight_balance",
      "back_neckheight_balance",
      "front_shoulderwidth_balance",
      "back_shoulderwidth_balance",
      "back_bust_width",
      "front_waist_length",
      "back_waist_length",
      "front_bust_width",
      "back_bust_width",
      "front_hip_width",
      "back_hip_width",
      "front_hip_height",
      "underarm_length",
      "bicep"
  ],
  "main": [
    {
      "id": "Front A",
      "type": "path",
      "d": [
        ["M", ["pt.a1.x","pt.a1.y"] ],
        ["L", ["pt.a2.x","pt.a2.y"] ],
        ["L", ["pt.a4.x","pt.a4.y"] ],
        ["L", ["pt.a3.x","pt.a3.y"] ],
        ["L", ["pt.a5.x","pt.a5.y"] ],
        ["L", ["pt.a12.x","pt.a12.y"] ],
        ["L", ["pt.a11.x","pt.a11.y"] ],
        ["L", ["pt.a6.x","pt.a6.y"] ],
        ["C", ["pt.a6out.x","pt.a6out.y"], ["pt.a7in.x","pt.a7in.y"], ["pt.a7.x","pt.a7.y"] ],
        ["C", ["pt.a7out.x","pt.a7out.y"], ["pt.a8in.x","pt.a8in.y"], ["pt.a8.x","pt.a8.y"] ],
        ["L", ["pt.a9.x","pt.a9.y"] ],
        ["L", ["pt.a1.x","pt.a1.y"] ],
        ["z"]
      ],
      "drawattr": {},
      "appearanceattr": { "stroke-width":"3", "stroke":"#000000", "fill":"none" }
    }
  ],
  "construction": [
    {
      "id": "Front Center Line",
      "type": "path",
      "d": [
        ["M", ["pt.a1.x","pt.a1.y"] ],
        ["L", ["pt.a3.x","pt.a3.y"] ]
      ],
      "drawattr": {},
      "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
    }
  ],
  "points": {
    "CM" : "convertUnit(1, 'cm', window.measurementData.clientdata.units)",
    "IN" : "convertUnit(1, 'in', window.measurementData.clientdata.units)",

    "backNeckCenter": { "x": "0", "y": "0" },
    "backWaistCenter": "down(pt.backNeckCenter, 1*meas.back_waist_length)",
    "backHipCenter": "down(pt.backWaistCenter, 1*meas.back_hip_height)",
    "backUpperbustCenter": "down(pt.backNeckCenter, 1*meas.back_upperbust_height)",
    "backNeckSide": "onCircleAtX(pt.backWaistCenter, 1*meas.back_neckheight_balance, pt.backNeckCenter.x + 0.5*meas.neck_width, 'y1 < y2')",
    "temp_backShoulderTip": "intersectCircles(pt.backNeckCenter, 1*meas.back_shoulderwidth_balance, pt.backNeckSide, 1*meas.shoulder_length, 'y1 > y2')",
    "backShoulderTip" : "right(pt.temp_backShoulderTip, 0.75*pt.CM)",
    "acrossBackCenter": "down(pt.backNeckCenter, 0.5*dist(pt.backNeckCenter, pt.backUpperbustCenter))",
    "acrossBackSide": "right(pt.acrossBackCenter, 0.5*meas.across_back)",
    "backArmscyeCorner": { "x" : "pt.acrossBackSide.x", "y" : "pt.backUpperbustCenter.y" },
    "backUpperbustSide": "right(pt.backUpperbustCenter, 0.5*meas.back_bust_width + 2.5*pt.CM)",
    "backWaistSide": { "x": "pt.backUpperbustSide.x", "y": "pt.backWaistCenter.y" },
    "backHipSide": { "x": "pt.backHipCenter.x + 0.5*meas.back_hip_width", "y": "pt.backHipCenter.y" },

    "frontNeckCenter": { "x" : "2*Math.max(pt.backUpperbustSide.x, pt.backHipSide.x) + 6*pt.CM", "y" : "pt.backWaistCenter.y - 1*meas.front_waist_length" },
    "frontUpperbustCenter": "down(pt.frontNeckCenter, 1*meas.front_upperbust_height)",
    "frontBustCenter" : "down(pt.frontNeckCenter, 1*meas.front_bust_height)",
    "frontWaistCenter": "down(pt.frontNeckCenter, 1*meas.front_waist_length)",
    "frontHipCenter": { "x" : "pt.frontWaistCenter.x", "y" : "pt.frontWaistCenter.y + 1*meas.front_hip_height" },

    "frontNeckSide": "onCircleAtX(pt.frontWaistCenter, 1*meas.front_neckheight_balance, pt.frontNeckCenter.x - 0.5*meas.neck_width,'y1 < y2')",
    "temp_frontShoulderTip" : "intersectCircles(pt.frontNeckCenter, 1*meas.front_shoulderwidth_balance, pt.frontNeckSide, 1*meas.shoulder_length, 'y1 > y2')",
    "frontShoulderTip": "left(pt.temp_frontShoulderTip, 0.75*pt.CM)",
    "acrossChestCenter": "down(pt.frontNeckCenter, 0.5*dist(pt.frontNeckCenter, pt.frontUpperbustCenter))",
    "temp_acrossChestSide_a" : "left(pt.acrossChestCenter, 0.5*meas.across_chest)",
    "temp_acrossChestSide_b" : { "x" : "pt.frontShoulderTip.x", "y" : "pt.acrossChestCenter.y" },
    "acrossChestSide": { "x" : "0.5*(pt.temp_acrossChestSide_a.x + pt.temp_acrossChestSide_b.x) - 1*pt.CM", "y" : "pt.acrossChestCenter.y" },
    "frontArmscyeCorner": { "x": "pt.acrossChestSide.x", "y": "pt.frontUpperbustCenter.y" },
    "frontUnderarm" : "left(pt.frontUpperbustCenter, 0.5*meas.front_bust_width + 2.5*pt.CM)",
    "frontWaistSide" : { "x" : "pt.frontUnderarm.x", "y" : "pt.frontWaistCenter.y" },
    "frontHipSide" : { "x" : "pt.frontHipCenter.x + Math.max(0.5*meas.front_bust_width, 0.5*meas.front_hip_width)", "y" : "pt.frontHipCenter.y" },
    "frontBustPoint" : "left(pt.frontBustCenter,0.5*meas.bust_points_distance)",

    "a1" : "down(pt.frontNeckCenter, 2*pt.CM)",
    "a2" : "right(pt.a1, 1.7*pt.CM)",
    "a3" : "down(pt.frontWaistCenter, 6*pt.CM)",
    "a4" : { "x" : "pt.a2.x", "y" : "pt.a3.y - 1.7*pt.CM" },
    "a5" : { "x" : "pt.frontUnderarm.x - 1*pt.CM", "y" : "pt.frontWaistSide.y + 4*pt.CM" },
    "a6" : "copy(pt.frontUnderarm)",
    "a7" : { "x" : "pt.acrossChestSide.x - 0.5*pt.CM", "y" : "pt.acrossChestSide.y" },
    "a8" : "copy(pt.frontShoulderTip)",
    "a9" : "copy(pt.frontNeckSide)",
    "a8in" : "polar(pt.a8, dist(pt.a7, pt.a8)/3, angleBetween(pt.a9, pt.a8) - radians(90))",
    "a7out" : "polar(pt.a7, dist(pt.a7, pt.a8)/3, angleBetween(pt.a6, pt.a8))",
    "a7in" : "polar(pt.a7, dist(pt.a6, pt.a7)/3, angleBetween(pt.a7out, pt.a7))",
    "a6out" : "right(pt.a6, dist(pt.a6, pt.a7)/3)",

    "a10" : { "x": "pt.frontBustPoint.x - 2*pt.CM", "y" : "pt.a6.y" },
    "a11" : "onLineAtLength(pt.a6, pt.a5, 5*pt.CM)",
    "a12" : "onLineAtLength(pt.a6, pt.a5, 7*pt.CM)",
    "a13" : "onCurveAtPercent(pt.a6, pt.a6out, pt.a7in, pt.a7, 0.66)",
    "a14" : "onCurveAtPercent(pt.a6, pt.a6out, pt.a7in, pt.a7, 0.5)"
  }
}
}
