{
  "pattern": {
    "title": "T-Shirt",
    "defaults": [
        40,
        106,
        98,
        106,
        40,
        40,
        54,
        26,
        50,
        20.6,
        17,
        72,
        9.125
    ],
    "measurements": [
        "neck_base_girth",
        "bust_girth",
        "waist_girth",
        "hip_girth",
        "front_upperchest_width",
        "back_upperchest_width",
        "armscye_girth",
        "back_underarm_height",
        "back_waist_length",
        "side_hip_height",
        "shoulder_length",
        "overarm_length",
        "side_waist_length"
    ],
    "main": [
        { "id": "outline",
            "type": "path",
            "d": [
                ["m", ["0","0"] ],
                ["L", ["pt.G.x","pt.G.y"] ],
                ["L", ["pt.H.x","pt.H.y"] ],
                ["L", ["pt.V.x","pt.V.y"] ],
                ["C", ["pt.Vout.x","pt.Vout.y"], ["pt.Win.x","pt.Win.y"], ["pt.W.x","pt.W.y"] ],
                ["L", ["pt.Y.x","pt.Y.y"] ],
                ["L", ["pt.L.x","pt.L.y"] ],
                ["L", ["pt.Kdiag.x","pt.Kdiag.y"] ],
                ["L", ["pt.M.x","pt.M.y"] ],
                ["L", ["pt.Idiag.x","pt.Idiag.y"] ],
                ["L", ["pt.Q.x","pt.Q.y"] ],
                ["L", ["pt.U.x","pt.U.y"] ],
                ["L", ["pt.S.x","pt.S.y"] ],
                ["C", ["pt.Sout.x","pt.Sout.y"], ["pt.Ain.x","pt.Ain.y"], ["pt.A.x","pt.A.y"] ],
                ["z"]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"2", "stroke":"#000000", "fill":"none" }
        },
        { "id": "back panel",
            "type": "path",
            "d": [
                ["m", ["0","0"] ],
                ["L", ["pt.G.x","pt.G.y"] ],
                ["L", ["pt.side_hip_back.x","pt.G.y"] ],
                ["L", ["pt.side_hip_back.x","pt.side_hip_back.y"] ],
                ["C", ["pt.side_hip_back.x","pt.side_hip_back.y - (pt.side_hip_back.y-pt.side_waist_back.y)/3"], ["pt.side_waist_back.x","pt.side_waist_back.y + (pt.side_hip_back.y-pt.side_waist_back.y)/3"], ["pt.side_waist_back.x","pt.side_waist_back.y"] ],
                ["C", ["pt.side_waist_back.x","pt.side_waist_back.y - (pt.side_waist_back.y-pt.M.y)/3"], ["pt.M.x","pt.M.y + (pt.side_waist_back.y-pt.M.y)/3"], ["pt.M.x","pt.M.y"] ],

                ["L", ["pt.Idiag.x","pt.Idiag.y"] ],
                ["L", ["pt.Q.x","pt.Q.y"] ],
                ["L", ["pt.U.x","pt.U.y"] ],
                ["L", ["pt.S.x","pt.S.y"] ],
                ["C", ["pt.Sout.x","pt.Sout.y"], ["pt.Ain.x","pt.Ain.y"], ["pt.A.x","pt.A.y"] ],
                ["z"]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"3", "stroke":"#0000dd", "fill":"none" }
        },
        { "id": "front panel",
            "type": "path",
            "d": [
                ["M", ["pt.side_hip_front.x","pt.H.y"] ],
                ["L", ["pt.H.x","pt.H.y"] ],
                ["L", ["pt.V.x","pt.V.y"] ],
                ["C", ["pt.Vout.x","pt.Vout.y"], ["pt.Win.x","pt.Win.y"], ["pt.W.x","pt.W.y"] ],
                ["L", ["pt.Y.x","pt.Y.y"] ],
                ["L", ["pt.L.x","pt.L.y"] ],
                ["L", ["pt.Kdiag.x","pt.Kdiag.y"] ],
                ["L", ["pt.M.x","pt.M.y"] ],
                ["C", ["pt.M.x","pt.M.y + (pt.side_waist_front.y-pt.M.y)/3"], ["pt.side_waist_front.x","pt.side_waist_front.y - (pt.side_waist_front.y-pt.M.y)/3"],  ["pt.side_waist_front.x","pt.side_waist_front.y"] ],
                ["C", ["pt.side_waist_front.x","pt.side_waist_front.y + (pt.side_hip_front.y-pt.side_waist_front.y)/3"], ["pt.side_hip_front.x","pt.side_hip_front.y - (pt.side_hip_front.y-pt.side_waist_front.y)/3"], ["pt.side_hip_front.x","pt.side_hip_front.y"] ],
                ["z"]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"3", "stroke":"#dd0000", "fill":"none" }
        },
        { "id": "sleeve",
            "type": "path",
            "d": [
                ["M", ["pt.l.x","pt.l.y"] ],
                ["L", ["pt.b.x","pt.b.y"] ],
                ["L", ["pt.i.x","pt.i.y"] ],
                ["L", ["pt.j.x","pt.j.y"] ],
                ["L", ["pt.k.x","pt.k.y"] ],
                ["L", ["pt.q.x","pt.q.y"] ],
                ["L", ["pt.s.x","pt.s.y"] ],
                ["L", ["pt.m.x","pt.m.y"] ],
                ["L", ["pt.p.x","pt.p.y"] ],
                ["z"]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"3", "stroke":"#000000", "fill":"none" }
        },
        { "id": "sleeve_end",
            "type": "path",
            "d": [
                ["M", ["pt.eighth_sleeve.x","pt.eighth_sleeve.y"] ],
                ["L", ["pt.l.x","pt.eighth_sleeve.y"] ],
                ["M", ["pt.sixth_sleeve.x","pt.sixth_sleeve.y"] ],
                ["L", ["pt.l.x","pt.sixth_sleeve.y"] ],
                ["M", ["pt.quarter_sleeve.x","pt.quarter_sleeve.y"] ],
                ["L", ["pt.l.x","pt.quarter_sleeve.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"3", "stroke":"#000000", "fill":"none" }
        },
        { "id": "unit",
            "type": "rect",
            "d": [],
            "drawattr": {
                "height": "1",
                "width": "1",
                "x": "0",
                "y": "0"
              },
            "appearanceattr": { "stroke-width":"1", "stroke":"#000000", "fill":"none" }
        }
    ],
    "construction": [
        { "id": "armscye line",
            "type": "path",
            "d": [
                ["m", ["pt.B.x","pt.B.y"] ],
                ["L", ["pt.C.x","pt.C.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        },
        { "id": "waist line",
            "type": "path",
            "d": [
                ["m", ["pt.E.x","pt.E.y"] ],
                ["L", ["pt.F.x","pt.F.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        },
        { "id": "hip line",
            "type": "path",
            "d": [
                ["m", ["pt.E.x","pt.side_hip_front.y"] ],
                ["L", ["pt.F.x","pt.side_hip_back.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        },
        { "id": "mid line",
            "type": "path",
            "d": [
                ["m", ["pt.M.x","pt.M.y"] ],
                ["L", ["pt.O.x","pt.O.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
          },
        { "id": "elbow line",
            "type": "path",
            "d": [
                ["M", ["pt.k.x","pt.z.y"] ],
                ["L", ["pt.l.x","pt.z.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        },
        { "id": "arm line",
            "type": "path",
            "d": [
                ["m", ["pt.i.x","pt.i.y"] ],
                ["L", ["pt.m.x","pt.m.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        },
        { "id": "arm hole for sleeve",
            "type": "path",
            "d": [
                ["M", ["pt.g.x","pt.g.y"] ],
                ["L", ["pt.e.x","pt.e.y"] ],
                ["L", ["pt.h.x","pt.h.y"] ],
                ["L", ["pt.b.x","pt.b.y"] ],
                ["L", ["pt.f.x","pt.f.y"] ]
            ],
            "drawattr": {},
            "appearanceattr": { "stroke-width":"1", "stroke":"#555555", "fill":"none" }
        }
    ],
    "points": {
        "ease" : "5",
        "shirt_length" : "1*meas.back_underarm_height + 1*meas.side_waist_length + 1*meas.side_hip_height",
        "sleeve_length" : "0.25*meas.overarm_length",
        "A": { "x": "0", "y": "0" },
        "B": { "x": "0", "y": "1*meas.back_underarm_height + pt.ease*0.01*meas.back_underarm_height" },
        "C": { "x": ".5*meas.bust_girth + pt.ease*.008*meas.bust_girth", "y": "pt.B.y" },
        "D": { "x": "pt.C.x", "y": "0" },
        "V": { "x": "pt.D.x", "y": "pt.D.y+.2*meas.neck_base_girth" },
        "E": { "x": "0", "y": "1*meas.back_waist_length + pt.ease*0.002*meas.back_waist_length" },
        "F": { "x": "pt.C.x", "y": "1*meas.back_waist_length + pt.ease*0.002*meas.back_waist_length" },
        "G": { "x": "0", "y": "1*meas.back_underarm_height + 1*meas.side_waist_length + 1*meas.side_hip_height" },
        "H": { "x": "pt.C.x", "y": "pt.G.y" },
        "I": { "x": ".5*meas.back_upperchest_width + pt.ease*0.0063*meas.back_upperchest_width", "y": "pt.B.y" },
        "J": { "x": "pt.I.x", "y": "pt.A.y" },
        "K": { "x": "pt.V.x - (.5*meas.front_upperchest_width + pt.ease*0.0063*meas.front_upperchest_width)", "y": "pt.B.y" },
        "L": { "x": "pt.K.x", "y": "pt.K.y - meas.armscye_girth/(Math.PI*2)" },
        "M": { "x": "(pt.K.x+pt.I.x)/2-(.005*meas.bust_girth)", "y": "pt.K.y" },
        "N": { "x": "pt.M.x", "y": "pt.E.y" },
        "O": { "x": "pt.M.x", "y": "pt.G.y" },
        "P": { "x": "pt.A.x", "y": "pt.B.y - meas.armscye_girth/(Math.PI*2)" },
        "Q": { "x": "pt.I.x", "y": "pt.P.y" },
        "R": { "x": ".188*meas.neck_base_girth", "y": "0" },
        "S": { "x": "pt.R.x", "y": "-0.05*meas.neck_base_girth" },
        "W": { "x": "pt.V.x-.175*meas.neck_base_girth", "y": "pt.D.y" },

        "Kdiag": { "x": "pt.K.x - .023*meas.bust_girth*Math.cos(Math.PI/4)", "y": "pt.K.y - .023*meas.bust_girth*Math.sin(Math.PI/4)" },
        "Idiag": { "x": "pt.I.x + .028*meas.bust_girth*Math.cos(Math.PI/4)", "y": "pt.I.y - .028*meas.bust_girth*Math.sin(Math.PI/4)" },

        "armbotlen": { "x": "dist(pt.Q,pt.Idiag) + dist(pt.Idiag,pt.M) + dist(pt.M,pt.Kdiag) + dist(pt.Kdiag,pt.L)", "y": "0" },
        "armtoplen": { "x": "(meas.armscye_girth-pt.armbotlen.x)", "y": "(meas.armscye_girth-pt.armbotlen.x)/2" },

        "Y": "intersectCircles(pt.W, (1 + pt.ease*0.005)*meas.shoulder_length, pt.L, pt.armtoplen.y, 'y1 < y2')",
        "U": "intersectCircles(pt.Q, pt.armtoplen.y, pt.S, (1+pt.ease*0.005)*meas.shoulder_length, 'y1 < y2')",

        "side_waist_back": { "x": "pt.N.x - (.25*(meas.bust_girth-meas.waist_girth) - pt.ease*0.01*(meas.bust_girth-meas.waist_girth))", "y": "pt.N.y" },
        "side_waist_front": { "x": "pt.N.x + (.25*(meas.bust_girth-meas.waist_girth) - pt.ease*0.01*(meas.bust_girth-meas.waist_girth))", "y": "pt.N.y" },

        "side_hip_back": { "x": "pt.N.x - (.25*(meas.bust_girth-meas.hip_girth) - pt.ease*0.01*(meas.bust_girth-meas.hip_girth))", "y": "pt.N.y + 1*meas.side_hip_height" },
        "side_hip_front": { "x": "pt.N.x + (.25*(meas.bust_girth-meas.hip_girth) - pt.ease*0.01*(meas.bust_girth-meas.hip_girth))", "y": "pt.N.y + 1*meas.side_hip_height" },

        "Ain":  { "x": "(pt.A.x+pt.S.x)/2", "y": "pt.A.y" },
        "Lin":  { "x": "pt.L.x", "y": "pt.L.y - (pt.L.y-pt.Y.y)/3" },
        "Lout": { "x": "pt.L.x", "y": "pt.L.y+(pt.M.y-pt.L.y)/3" },
        "Min":  { "x": "pt.L.x", "y": "pt.M.y"},
        "Mout": { "x": "pt.Q.x", "y": "pt.M.y"},
        "Qin":  { "x": "pt.Q.x", "y": "pt.Q.y" },
        "Qout": { "x": "pt.Q.x", "y": "pt.Q.y" },
        "Sout": { "x": "pt.S.x", "y": "pt.S.y/2" },
        "Uin":  { "x": "pt.Q.x", "y": "pt.U.y+(dist(pt.Q,pt.U)/2)" },
        "Vout": { "x": "pt.V.x-((pt.V.x-pt.W.x)/2)", "y": "pt.V.y" },
        "Win":  { "x": "pt.W.x", "y": "pt.W.y+((pt.V.y-pt.W.y)/2)" },
        "Yout": { "x": "pt.L.x", "y": "pt.Y.y+(dist(pt.L,pt.Y)/3)" },

        "armsclen": { "x": "1*meas.armscye_girth", "y": "0" },
        "slshift":  { "x": "1.25*pt.C.x-pt.A.x", "y": "0" },
        "a": { "x": "pt.slshift.x + pt.K.x", "y": "pt.K.y + pt.slshift.y" },
        "b": { "x": "pt.slshift.x + pt.L.x", "y": "pt.L.y + pt.slshift.y" },
        "c": { "x": "pt.a.x", "y": "pt.a.y - pt.armsclen.x/3" },
        "d": { "x": "pt.a.x", "y": "pt.a.y - pt.armsclen.x/6" },
        "e": { "x": "pt.slshift.x + pt.Q.x", "y": "pt.d.y + pt.slshift.y" },
        "f": { "x": "pt.slshift.x + pt.Y.x", "y": "pt.Y.y + pt.slshift.y" },
        "g": { "x": "pt.slshift.x + pt.U.x", "y": "pt.U.y + pt.slshift.y" },
        "h": { "x": "pt.slshift.x + pt.M.x", "y": "pt.M.y + pt.slshift.y" },
        "i": { "x": "pt.b.x - Math.sqrt( dist(pt.b,pt.f)*dist(pt.b,pt.f) - (pt.b.y-pt.c.y)*(pt.b.y-pt.c.y) )", "y": "pt.c.y" },
        "j": { "x": "pt.i.x - Math.sqrt( dist(pt.e,pt.g)*dist(pt.e,pt.g) - (pt.d.y-pt.c.y)*(pt.d.y-pt.c.y) )", "y": "pt.d.y" },
        "k": { "x": "pt.j.x - Math.sqrt( dist(pt.e,pt.h)*dist(pt.e,pt.h) - (pt.a.y-pt.d.y)*(pt.a.y-pt.d.y) )", "y": "pt.a.y" },
        "l": { "x": "pt.a.x + Math.sqrt( dist(pt.b,pt.h)*dist(pt.b,pt.h) - (pt.h.y-pt.b.y)*(pt.h.y-pt.b.y) )", "y": "pt.a.y" },
        "m": { "x": "pt.i.x", "y": "pt.i.y + 1*pt.sleeve_length" },
        "n": { "x": "pt.l.x", "y": "pt.m.y" },
        "o": { "x": "pt.k.x", "y": "pt.m.y" },
        "p": { "x": "pt.n.x - .1*(pt.n.x-pt.o.x)", "y": "pt.n.y" },
        "q": { "x": "pt.o.x + .1*(pt.n.x-pt.o.x)", "y": "pt.o.y" },
        "r": { "x": "(pt.q.x+pt.m.x)/2", "y": "pt.m.y" },
        "s": { "x": "pt.r.x", "y": "(pt.n.x-pt.o.x)/50 + pt.r.y" },
        "t": { "x": "pt.r.x", "y": "pt.s.y - .2*(pt.n.x-pt.o.x)" },
        "z": { "x": "pt.k.x", "y": "(pt.l.y+pt.n.y)/2 - .029*pt.sleeve_length" },
        "eighth_sleeve": { "x": "pt.z.x", "y": "pt.a.y + (pt.z.y-pt.a.y)/4" },
        "quarter_sleeve": { "x": "pt.z.x", "y": "pt.a.y + (pt.z.y-pt.a.y)/2" },
        "sixth_sleeve": { "x": "pt.z.x", "y": "pt.a.y + (pt.z.y-pt.a.y)/3" }
      }
  }
}
